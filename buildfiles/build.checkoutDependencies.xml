<?xml version="1.0"?>
<!--

Targets for checking out dependencies for the healthchecks.

Use

	ant clean

to delete the directory with the checkouts.

-->
<project name="checkoutDependencies" default="checkoutPerlDependencies" basedir="..">

	<property file="buildfiles/build.properties" />

	<!--
		Directory where checkout will be placed
	-->
	<property name="perlDependencyCheckoutDir" value="perlcode" />

        <target 
		name        = "checkoutPerlDependencies" 
		description = "" 
		depends     = "checkoutEnsemblDependency,checkoutBioperlDependency"
	/>

	<!--
		All checkouts go into this directory
	-->
        <target name="createPerlDependencyDir" description="">
		<mkdir dir="${perlDependencyCheckoutDir}" />
	</target>

	<!--
		Deletes the directory with the checkouts
	-->
        <target name="clean" description="">
		<delete dir="${perlDependencyCheckoutDir}"/>
	</target>

	<!--
		Checkouts of the Ensembl API
	-->
        <target name="checkoutEnsemblDependency" description="" depends="createPerlDependencyDir">

		<property name="ensemblRevisionOption"     value="-r branch-ensembl-59" />
		<property name="ensemblCvsRoot"            value=":pserver:cvsuser:CVSUSER@cvs.sanger.ac.uk:/cvsroot/ensembl" />

		<cvs 
			cvsRoot="${ensemblCvsRoot}" 
			command="checkout -d ${perlDependencyCheckoutDir}/ensembl ${ensemblRevisionOption} ensembl"
		/>
		<cvs 
			cvsRoot="${ensemblCvsRoot}" 
			command="checkout -d ${perlDependencyCheckoutDir}/ensembl-variation ${ensemblRevisionOption} ensembl-variation"
		/>
	</target>

	<!--
		Checkouts of Bioperl
	-->
        <target name="checkoutBioperlDependency" description="" depends="createPerlDependencyDir">

		<mkdir dir="${perlDependencyCheckoutDir}"/>

		<!--
		<property name="bioperlRoot"            value=":pserver:cvs@code.open-bio.org:/home/repository/bioperl" />
		<cvs 
			cvsRoot="${bioperlRoot}" 
			command="checkout -d ${bioperlRoot}/bioperl-live -r bioperl-release-1-2-3 bioperl-live"
		/>
		-->

		<exec dir="." executable="svn" os="Linux">
		  <arg line="checkout http://svn.github.com/bioperl/bioperl-live.git ${perlDependencyCheckoutDir}/bioperl-live"/>
		</exec>

	</target>

</project>

